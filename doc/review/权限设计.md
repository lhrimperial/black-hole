#### 权限设计



##### OAuth2

1. 概念：

   OAuth2 其实是一个关于授权的网络标准，它制定了设计思路和运行流程，利用这个标准我们其实是可以自己实现 OAuth2 的认证过程的。

2. 模式

   OAuth 2 有四种授权模式，分别是授权码模式（authorization code）、简化模式（implicit）、密码模式（resource owner password credentials）、客户端模式（client credentials）。

3. 使用场景
   - OAuth2 的授权码模式，利用第三方的权威平台实现用户身份的认证，比如用微信登录、用 QQ 登录、用微博登录、用 Google 账号登录、用 github 授权登录等等。
   - OAuth2 的密码模式实现服务的单点登录，只做一次登录，就可以在多个服务中自由穿行，当然仅限于授权范围内的服务和接口。





#### idea

1. 组织架构树（要区别于hr组织架构，服务于业务的架构）
2. 功能菜单树，叶子结点上维护接口级别的code，实现接口时可选择对应code（解耦），给角色分配code
3. 资源树，需要控制访问数据权限的都可作为资源，分配给角色
4. RBAC-基于角色控制、ABAC-基于属性控制



##### 参考

https://www.jianshu.com/p/c815a42f9331

http://www.woshipm.com/pd/3408583.html

https://mp.weixin.qq.com/s/9emNoimUR3nT6s2FIYIyGg



Acl、RBAC、ABAC

http://www.woshipm.com/pd/2889402.html

http://www.woshipm.com/pd/2174816.html