## 网络

https://www.jianshu.com/p/0947b7b3c3c1

https://plantegg.github.io/2019/05/15/%E5%B0%B1%E6%98%AF%E8%A6%81%E4%BD%A0%E6%87%82%E7%BD%91%E7%BB%9C--%E4%B8%80%E4%B8%AA%E7%BD%91%E7%BB%9C%E5%8C%85%E7%9A%84%E6%97%85%E7%A8%8B/

### 网络

> 一个数据包在网络中的旅程(https://www.cnblogs.com/cangqinglang/p/13201388.html)
>
> ping www.baidu.com
>
> 1. 解析域名获取IP：本地DNS服务器--->根域（维护一级域及IP关系：.com - > ip）--->二级域--->IP
> 2. 将数据交给操作系统协议栈
>    - TCP负责收发数据，包装
>    - 

<img src="/Users/eleme/Library/Application Support/typora-user-images/image-20210820120208611.png" alt="image-20210820120208611" style="zoom:50%;" />

##### 概念

1. 网络地址帮助我们确定计算机所在的子网络，MAC地址则将数据包送到该子网络中的目标网卡，必定是先处理网络地址，然后再处理MAC地址。

2. 所谓"子网掩码"，就是表示子网络特征的一个参数。
3. IP协议的作用主要有两个，一个是为每一台计算机分配IP地址，另一个是确定哪些地址在同一个子网络。
4. ICMP 用于告知网络包传送过程中产生的错误以及各种控制信息。
5. ARP 用于根据 IP 地址查询相应的以太网 MAC 地址。
6. MTU 与 MSS
   - MTU：一个网络包的最大长度，以太网中一般为 1500 字节。
   - MSS：除去 IP 和 TCP 头部之后，一个网络包所能容纳的 TCP 数据的最大长度。



#### TCP

<img src="/Users/eleme/Library/Application Support/typora-user-images/image-20210820112600881.png" alt="image-20210820112600881" style="zoom:50%;" />

1. 源端口号和目标端口号是不可少的，如果没有这两个端口号，数据就不知道应该发给哪个应用
2. 序列号，这个是为了解决包乱序的问题
3. 确认号，目的是确认发出去对方是否有收到。如果没有收到就应该重新发送，直到送达，这个是为了解决不丢包的问题。
4. 状态位，SYN 是发起一个连接，ACK 是回复，RST 是重新连接，FIN 是结束连接
5. 窗口大小，TCP 要做流量控制，通信双方各声明一个窗口（缓存大小），标识自己当前能够的处理能力



#### IP

<img src="/Users/eleme/Library/Application Support/typora-user-images/image-20210820113334815.png" alt="image-20210820113334815" style="zoom:50%;" />





